<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>plant</title>
    <link href="/assets/demo.css" rel="stylesheet">
    <script src="/dist/encantar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe@1.4.2/dist/aframe-v1.4.2.min.js"></script>
    <script src="/plugins/aframe-with-encantar.js"></script>
    <script src="/plugins/extras/aframe-scan-gimmick-for-encantar.js"></script>
    <script src="/plugins/extras/aframe-gltf-anim.js"></script>
</head>

<body>
    <a-scene encantar="stats :true; gizmos: true">
        <ar-sources>
            <ar-camera-source></ar-camera-source>
        </ar-sources>

        <ar-trackers>
            <ar-image-tracker>
                <ar-reference-image name="menu" src="/assets/menu.webp"></ar-reference-image>
            </ar-image-tracker>
        </ar-trackers>

        <ar-viewport>
            <ar-hud>
                <a id="info" href="info.html" draggable="false"></a>
                <a id="follow" href="follow.html" draggable="false"></a>
                <a-entity ar-scan-gimmick="opacity: 0.75"></a-entity>
            </ar-hud>
        </ar-viewport>

        <ar-camera></ar-camera>

        <ar-root reference-image="menu">
            <a-entity rotation="0 0 0" position="0 -0.1 0">
                <a-light type="ambient" intensity="1.5"></a-light>
                <a-entity gltf-model="#plant-model" gltf-anim="clip: Idle" rotation="90 0 0" scale="5 5 5"></a-entity>
                <a-plane width="4" height="4"
                    material="src: #magic-circle; color: #beefff; side: double; shader: flat; transparent: true; opacity: 1"
                    animation="property: object3D.rotation.z; from: 360; to: 0; dur: 8000; loop: true; easing: linear">
                </a-plane>

            </a-entity>

            <a-entity rotation="0 0 0" position="1.25 -0.1 0">
                <a-light type="ambient" intensity="1.5"></a-light>
                <a-entity gltf-model="#milk-model" gltf-anim="clip: Idle" rotation="90 0 0" scale="5 5 5"></a-entity>
            </a-entity>

            <a-entity rotation="0 0 0" position="-1.25 -0.1 0">
                <a-light type="ambient" intensity="1.5"></a-light>
                <a-entity gltf-model="#random-model" gltf-anim="clip: Idle" rotation="90 0 0" scale="5 5 5"></a-entity>
            </a-entity>

        </ar-root>

        <a-assets>
            <a-asset-item id="plant-model" src="/assets/plant.glb"></a-asset-item>
            <a-asset-item id="milk-model" src="/assets/milk.glb"></a-asset-item>
            <a-asset-item id="random-model" src="/assets/random.glb"></a-asset-item>

            <img id="magic-circle" src="/assets/magic-circle.png">
        </a-assets>

    </a-scene>
</body>